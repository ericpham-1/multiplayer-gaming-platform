<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>

<BorderPane prefHeight="1024.0" prefWidth="1440.0" style="-fx-background-color: #000000;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.game.gui.CheckersController">
    <!-- Header -->
    <top>
        <HBox prefHeight="74.0" style="-fx-background-color: #0b0b0b; -fx-border-color: #1c1d1f; -fx-border-width: 1 0 0 0; -fx-padding: 10;" styleClass="header">
            <children>
                <Pane HBox.hgrow="ALWAYS">
                    <children>
                        <!-- Added fx:id for gameTitleLabel -->
                        <Label fx:id="gameTitleLabel" layoutX="363.0" layoutY="10.0" style="-fx-text-fill: #e5e7eb; -fx-font-size: 23px; -fx-font-family: 'Inter';" styleClass="game-title" text="Checkers" />
                        <Label layoutX="57.0" layoutY="4.0" style="-fx-text-fill: #ffffff; -fx-font-size: 30px; -fx-font-family: 'Inter';" styleClass="header-title" text="OMG Platform" />
                        <ImageView fitHeight="25.0" fitWidth="25.0" layoutX="331.0" layoutY="14.0">
                            <image>
                                <Image url="@checkers_images/checkers for in game screen.png" />
                            </image>
                        </ImageView>
                    </children>
                </Pane>
                <Pane HBox.hgrow="ALWAYS">
                    <children>
                        <Label fx:id="networkTextLabel" layoutX="352.0" layoutY="18.0" onMouseClicked="#handleNetworkDetailsClick" style="-fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-font-family: 'Inter';" text="Network:" />
                        <ImageView fx:id="networkicon" fitHeight="16.0" fitWidth="20.0" layoutX="419.0" layoutY="18.0" onMouseClicked="#handleNetworkDetailsClick">
                            <image>
                                <Image url="@../game_images/network icon.png" />
                            </image>
                        </ImageView>
                    </children>
                </Pane>
            </children>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <HBox spacing="19.0" style="-fx-padding: 82 0 0 67;" styleClass="main-content">
            <children>
                <!-- Players' Information -->
                <VBox prefWidth="256.0" spacing="20.0" styleClass="players-info">
                    <!-- Player 1 -->
                    <VBox prefHeight="341.0" style="-fx-background-color: #171717; -fx-border-radius: 12; -fx-background-radius: 12; -fx-padding: 16;" styleClass="player-info">
                        <children>
                            <HBox spacing="12.0">
                                <!-- Avatar ImageView with fx:id for Player 1's avatar (if needed) -->
                                <ImageView fx:id="player1Avatar" fitHeight="48.0" fitWidth="48.0">
                                    <image>
                                        <Image url="@../game_images/player1-avatar.png" />
                                    </image>
                                </ImageView>
                                <VBox>
                                    <Label fx:id="player1NameLabel" style="-fx-text-fill: #e5e7eb; -fx-font-size: 16px; -fx-font-family: 'Inter';" text="Player 1" />
                                    <Label fx:id="player1RankLabel" style="-fx-text-fill: #adaebc; -fx-font-size: 14px; -fx-font-family: 'Inter';" text="Rank: 1205" />
                                </VBox>
                                <!-- Added Player 1 Piece Icon -->
                                <ImageView fx:id="player1PieceIcon" fitHeight="24.0" fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <HBox.margin>
                                        <Insets top="5.0" />
                                    </HBox.margin>
                                </ImageView>
                            </HBox>
                            <VBox prefHeight="76.0" spacing="5.0" style="-fx-background-color: #262626; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12;" styleClass="time-remaining">
                                <Label fx:id="player1TimeLabel" style="-fx-text-fill: #e5e7eb; -fx-font-size: 24px; -fx-font-family: 'Inter'; -fx-alignment: center;" text="10:00" />
                                <Label style="-fx-text-fill: #adaebc; -fx-font-size: 14px; -fx-font-family: 'Inter'; -fx-alignment: center;" text="Time Remaining" />
                                <VBox.margin>
                                    <Insets top="10.0" />
                                </VBox.margin>
                            </VBox>
                            <VBox fx:id="player1CapturedPieces" prefHeight="102.0" spacing="9.0" style="-fx-border-color: #e5e5e5; -fx-border-width: 1; -fx-border-radius: 8; -fx-padding: 13;" styleClass="captured-pieces">
                                <Label style="-fx-text-fill: #e5e7eb; -fx-font-size: 14px; -fx-font-family: 'Inter';" text="Captured Pieces" />
                                <HBox spacing="8.0">
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                </HBox>
                                <HBox spacing="8.0">
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                </HBox>
                                <VBox.margin>
                                    <Insets top="10.0" />
                                </VBox.margin>
                            </VBox>
                            <Rectangle fx:id="player1TurnIndicator" fill="#262626" height="7.0" style="-fx-arc-height: 4; -fx-arc-width: 4;" width="219.0" VBox.vgrow="ALWAYS">
                                <VBox.margin>
                                    <Insets top="15.0" />
                                </VBox.margin>
                            </Rectangle>
                            <Label fx:id="player1TurnLabel" prefHeight="20.0" prefWidth="220.0" style="-fx-text-fill: #262626; -fx-font-size: 14px; -fx-font-family: 'Inter'; -fx-alignment: center;" text="Player 1’s Turn" VBox.vgrow="ALWAYS">
                                <padding>
                                    <Insets top="5.0" />
                                </padding>
                                <VBox.margin>
                                    <Insets />
                                </VBox.margin>
                            </Label>
                        </children>
                    </VBox>
                    <!-- Player 2 -->
                    <VBox prefHeight="341.0" style="-fx-background-color: #171717; -fx-border-radius: 12; -fx-background-radius: 12; -fx-padding: 16;" styleClass="player-info">
                        <children>
                            <HBox spacing="12.0">
                                <!-- Avatar ImageView for Player 2 (optional) -->
                                <ImageView fx:id="player2Avatar" fitHeight="48.0" fitWidth="48.0">
                                    <image>
                                        <Image url="@../game_images/player2-avatar.png" />
                                    </image>
                                </ImageView>
                                <VBox>
                                    <Label fx:id="player2NameLabel" style="-fx-text-fill: #e5e7eb; -fx-font-size: 16px; -fx-font-family: 'Inter';" text="Player 2" />
                                    <Label fx:id="player2RankLabel" style="-fx-text-fill: #adaebc; -fx-font-size: 14px; -fx-font-family: 'Inter';" text="Rank: 1275" />
                                </VBox>
                                <!-- Added Player 2 Piece Icon -->
                                <ImageView fx:id="player2PieceIcon" fitHeight="24.0" fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <HBox.margin>
                                        <Insets top="5.0" />
                                    </HBox.margin>
                                </ImageView>
                            </HBox>
                            <VBox prefHeight="76.0" spacing="5.0" style="-fx-background-color: #262626; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12;" styleClass="time-remaining">
                                <Label fx:id="player2TimeLabel" style="-fx-text-fill: #e5e7eb; -fx-font-size: 24px; -fx-font-family: 'Inter'; -fx-alignment: center;" text="10:00" />
                                <Label style="-fx-text-fill: #adaebc; -fx-font-size: 14px; -fx-font-family: 'Inter'; -fx-alignment: center;" text="Time Remaining" />
                                <VBox.margin>
                                    <Insets top="10.0" />
                                </VBox.margin>
                            </VBox>
                            <VBox fx:id="player2CapturedPieces" prefHeight="102.0" spacing="9.0" style="-fx-border-color: #e5e5e5; -fx-border-width: 1; -fx-border-radius: 8; -fx-padding: 13;" styleClass="captured-pieces">
                                <Label style="-fx-text-fill: #e5e7eb; -fx-font-size: 14px; -fx-font-family: 'Inter';" text="Captured Pieces" />
                                <HBox spacing="8.0">
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                </HBox>
                                <HBox spacing="8.0">
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                    <Circle fill="#262626" radius="8.0" />
                                </HBox>
                                <VBox.margin>
                                    <Insets top="10.0" />
                                </VBox.margin>
                            </VBox>
                            <Rectangle fx:id="player2TurnIndicator" fill="#262626" height="7.0" style="-fx-arc-height: 4; -fx-arc-width: 4;" width="219.0">
                                <VBox.margin>
                                    <Insets top="15.0" />
                                </VBox.margin>
                            </Rectangle>
                            <Label fx:id="player2TurnLabel" prefHeight="20.0" prefWidth="216.0" style="-fx-text-fill: #262626; -fx-font-size: 14px; -fx-font-family: 'Inter'; -fx-alignment: center;" text="Player 2’s Turn">
                                <VBox.margin>
                                    <Insets />
                                </VBox.margin>
                                <padding>
                                    <Insets top="5.0" />
                                </padding>
                            </Label>
                        </children>
                    </VBox>
                </VBox>
                <!-- Game Board and Buttons -->
                <VBox prefWidth="726.0" spacing="17.0" styleClass="game-area">
                    <Pane fx:id="gameBoardPane" prefHeight="702.0" prefWidth="726.0" style="-fx-background-color: #171717; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 20;" styleClass="game-board-outer">
                        <children>
                            <Pane fx:id="boardPane" layoutX="18.0" layoutY="31.5" prefHeight="639.0" prefWidth="690.0" style="-fx-background-color: #262626;" />
                            <Label fx:id="moveCountLabel" alignment="BOTTOM_CENTER" layoutX="14.0" layoutY="679.0" prefHeight="19.0" prefWidth="189.0" style="-fx-text-fill: #a3a3a3; -fx-font-size: 13px; -fx-font-family: 'Inter';" text="Moves without Capture: 0/40" />
                            <Label fx:id="drawStatusLabel" layoutX="244.0" layoutY="678.0" style="-fx-text-fill: #facc15; -fx-font-size: 13px; -fx-font-family: 'Inter';" text="Draw Proposed - Waiting for Opponent" visible="false" />
                        </children>
                    </Pane>
                    <HBox alignment="CENTER" spacing="70.0" styleClass="buttons">
                        <Button fx:id="requestDrawButton" onAction="#handleDrawRequest" prefHeight="59.0" prefWidth="225.0" style="-fx-background-color: #262626; -fx-text-fill: #e5e7eb; -fx-font-size: 19px; -fx-font-family: 'Inter'; -fx-border-radius: 10; -fx-background-radius: 10;" text="Request Draw">
                            <graphic>
                                <ImageView fitHeight="20.0" fitWidth="24.0">
                                    <image>
                                        <Image url="@../game_images/request draw.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Button fx:id="forfeitButton" onAction="#handleForfeit" prefHeight="59.0" prefWidth="255.0" style="-fx-background-color: #262626; -fx-text-fill: #e5e7eb; -fx-font-size: 19px; -fx-font-family: 'Inter'; -fx-border-radius: 13; -fx-background-radius: 13;" text="Forfeit">
                            <graphic>
                                <ImageView fitHeight="22.0" fitWidth="19.0">
                                    <image>
                                        <Image url="@../game_images/forfeit.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                    </HBox>
                </VBox>
                <!-- Chat Section -->
                <VBox layoutX="1090.0" layoutY="96.0" maxHeight="702.0" prefHeight="695.0" prefWidth="293.0" spacing="16.0" style="-fx-background-color: #171717; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 16;" styleClass="chat">
                    <children>
                        <Label style="-fx-text-fill: #ffffff; -fx-font-size: 16px; -fx-font-family: 'Inter';" text="Chat" />
                        <ScrollPane hbarPolicy="NEVER" prefHeight="576.0" style="-fx-background-color: #262626; -fx-border-radius: 4; -fx-background-radius: 4;">
                            <content>
                                <!-- Empty VBox for dynamic chat items -->
                                <VBox fx:id="chatMessagesBox" maxHeight="576.0" maxWidth="261.0" minHeight="576.0" minWidth="261.0" spacing="16.0" style="-fx-padding: 16; -fx-background-color: #262626;" />
                            </content>
                        </ScrollPane>
                        <HBox alignment="CENTER_LEFT" spacing="6.0">
                            <TextField fx:id="chatInputField" prefHeight="28.0" prefWidth="221.0" promptText="Type a message..." style="-fx-background-color: #262626; -fx-text-fill: #adaebc; -fx-prompt-text-fill: #adaebc; -fx-font-size: 11px; -fx-font-family: 'Inter'; -fx-border-radius: 3; -fx-background-radius: 3;" />
                            <Button fx:id="sendChatButton" prefHeight="28.0" prefWidth="34.0" style="-fx-background-color: #404040; -fx-border-radius: 3; -fx-background-radius: 3;">
                                <graphic>
                                    <ImageView fitHeight="11.0" fitWidth="11.0">
                                        <image>
                                            <Image url="@../game_images/message button for game screen chat.png" />
                                        </image>
                                    </ImageView>
                                </graphic>
                            </Button>
                        </HBox>
                    </children>
                </VBox>
            </children>
        </HBox>
    </center>

    <!-- Footer -->
    <bottom>
        <HBox alignment="CENTER_LEFT" prefHeight="53.0" style="-fx-background-color: #000000; -fx-padding: 16 80 0 80;" styleClass="footer">
            <Label style="-fx-text-fill: #404040; -fx-font-size: 14px; -fx-font-family: 'Inter';" text="© 2025 OMG Platform. All rights reserved." />
        </HBox>
    </bottom>
</BorderPane>
